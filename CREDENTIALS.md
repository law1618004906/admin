# 🔐 بيانات الاعتماد للتطبيق

## 👤 **المستخدم الافتراضي (Admin)**

### بيانات تسجيل الدخول:
- **البريد الإلكتروني**: `admin@hamidawi.com`
- **كلمة المرور**: `admin123`
- **اسم المستخدم**: `admin`
- **الدور**: `ADMIN`
- **الاسم الكامل**: `مدير النظام`

---

## 🌐 **روابط الوصول**

### التطبيق المنشور على Azure:
- **الرابط الرئيسي**: https://end-admin-app-1754695871.azurewebsites.net/
- **صفحة تسجيل الدخول**: https://end-admin-app-1754695871.azurewebsites.net/login

### التطبيق المحلي (إذا كان يعمل):
- **الرابط المحلي**: http://localhost:3002
- **الحاوية النشطة**: logging-fixed
- **المنفذ**: 3002

### ✅ حالة التطبيق الحالية:
- ✅ **تم حل مشكلة تسجيل الدخول**
- ✅ **قاعدة البيانات تعمل بشكل صحيح**
- ✅ **المستخدم المدير تم إنشاؤه بنجاح**
- ✅ **API إعادة تعيين المدير متاح**
- **الرابط المحلي**: http://localhost:3000/
- **صفحة تسجيل الدخول**: http://localhost:3000/login

---

## 🔑 **صلاحيات المدير**

المستخدم `admin@hamidawi.com` له صلاحيات كاملة تشمل:

### 📊 **الإدارة العامة**
- ✅ لوحة التحكم الرئيسية
- ✅ عرض الإحصائيات
- ✅ إدارة المستخدمين

### 👥 **إدارة الأشخاص**
- ✅ عرض قائمة الأشخاص
- ✅ إضافة أشخاص جدد
- ✅ تعديل بيانات الأشخاص
- ✅ حذف الأشخاص

### 🏛️ **إدارة القيادات**
- ✅ عرض قائمة القيادات
- ✅ إضافة قيادات جديدة
- ✅ تعديل بيانات القيادات
- ✅ إدارة الأصوات

### 📝 **إدارة المحتوى**
- ✅ إدارة المنشورات
- ✅ إدارة الرسائل
- ✅ إدارة الحملات

### 🔧 **الإعدادات**
- ✅ إعدادات النظام
- ✅ إدارة الأدوار
- ✅ إعدادات Telegram

### 📊 **المراقبة والتقارير**
- ✅ عرض السجلات (Logs)
- ✅ النسخ الاحتياطي
- ✅ التقارير
- ✅ سجل الأنشطة

---

## 🛠️ **إنشاء مستخدم جديد**

### طريقة 1: عبر API
```bash
curl -X POST "https://end-admin-app-1754695871.azurewebsites.net/api/setup/seed"
```

### طريقة 2: عبر قاعدة البيانات مباشرة
```sql
INSERT INTO User (id, email, username, password, name, role, isActive, createdAt)
VALUES (
  'user-id-here',
  'user@example.com',
  'username',
  'hashed-password',
  'الاسم الكامل',
  'USER',
  1,
  datetime('now')
);
```

---

## 🗄️ **بيانات قاعدة البيانات**

### معلومات قاعدة البيانات:
- **النوع**: SQLite
- **الملف**: `prisma/dev.db`
- **URL**: `file:./dev.db`

### الجداول الرئيسية:
- `User` - المستخدمين
- `Role` - الأدوار
- `persons` - الأشخاص
- `leaders` - القيادات
- `activityLog` - سجل الأنشطة

---

## 🔐 **تشفير كلمات المرور**

- **خوارزمية التشفير**: bcrypt
- **Salt Rounds**: 10
- **مثال**: كلمة المرور `admin123` تصبح هاش مشفر

---

## 🚀 **إعداد حساب جديد**

### خطوات إنشاء مستخدم جديد:

1. **تسجيل الدخول كمدير**:
   - اذهب إلى: https://end-admin-app-1754695871.azurewebsites.net/login
   - ادخل: `admin@hamidawi.com` / `admin123`

2. **إضافة مستخدم جديد**:
   - اذهب إلى قسم "المستخدمين"
   - اضغط "إضافة مستخدم جديد"
   - املأ البيانات المطلوبة

3. **تحديد الصلاحيات**:
   - اختر الدور المناسب (ADMIN/USER)
   - حدد الصلاحيات المطلوبة

---

## 🔍 **استكشاف الأخطاء**

### إذا نسيت كلمة المرور:
1. **الوصول للخادم**:
   ```bash
   # تشغيل seed لإعادة إنشاء المدير
   npx prisma db seed
   ```

2. **إعادة تعيين عبر API**:
   ```bash
   curl -X POST "https://end-admin-app-1754695871.azurewebsites.net/api/setup/seed"
   ```

### إذا لم يعمل تسجيل الدخول:
1. تحقق من صحة البيانات
2. تأكد من حالة الخادم
3. راجع سجلات الأخطاء في `/logs`

---

## 📱 **Telegram Bot (إضافي)**

إذا كان لديك إعداد Telegram Bot:
- **Token**: يجب إعداده في متغيرات البيئة
- **الإعدادات**: متاحة في قسم "إعدادات Telegram"

---

## 🔒 **أمان إضافي**

### توصيات الأمان:
1. **غيّر كلمة مرور المدير** بعد أول تسجيل دخول
2. **استخدم كلمات مرور قوية** للمستخدمين الجدد
3. **راجع سجل الأنشطة** بانتظام
4. **فعّل النسخ الاحتياطي** للبيانات المهمة

### متغيرات البيئة الحساسة:
```env
DATABASE_URL="file:./dev.db"
NEXTAUTH_SECRET="your-secret-here"
NEXTAUTH_URL="https://end-admin-app-1754695871.azurewebsites.net"
```

---

## 📞 **للدعم التقني**

إذا واجهت مشاكل في تسجيل الدخول:
1. تحقق من سجلات التطبيق: `/logs`
2. راجع حالة قاعدة البيانات
3. تأكد من إعدادات Azure
4. استخدم Azure Application Insights للمراقبة

---

## ✅ **ملخص سريع**

**للدخول السريع:**
```
URL: https://end-admin-app-1754695871.azurewebsites.net/login
Email: admin@hamidawi.com
Password: admin123
```

**صلاحيات كاملة للمدير** ✅  
**النظام جاهز للاستخدام** 🚀
